var NOODLIO_PAY_API_URL="https://noodlio-pay.p.mashape.com",NOODLIO_PAY_API_KEY="hkou9g9rVgmshTeafr21FodTUdsip1Gsko3jsn8G4LLowC6ReO",STRIPE_ACCOUNT_ID="acct_197dO3BnddH3DZLG",TEST_MODE=!0,NOODLIO_PAY_CHECKOUT_KEY={test:"pk_test_QGTo45DJY5kKmsX21RB3Lwvn",live:"pk_live_ZjOCjtf1KBlSHSyjKDDmOGGE"};angular.module("starter",["ionic","ui.router","ion-google-autocomplete","ngCordova","ionic-timepicker","ionic-ratings","ionic-datepicker","stripe.checkout","starter.controllers","starter.services"]).run(function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault(),Parse.initialize("com.team3.parkhere","medvidobitches"),Parse.serverURL="http://138.68.43.212:1337/parse";Parse.User.current()})}).config(function(e,r,t){switch(TEST_MODE){case!0:t.defaults({key:NOODLIO_PAY_CHECKOUT_KEY.test});break;default:t.defaults({key:NOODLIO_PAY_CHECKOUT_KEY.live})}e.state("login",{url:"/login",templateUrl:"templates/login.html",controller:"LoginCtrl"}).state("signUp",{url:"/signup",templateUrl:"templates/signUp.html",controller:"signUpCtrl"}).state("parker",{url:"/parker",templateUrl:"templates/parkerMenu.html",controller:"parkerMenuCtrl"}).state("parker.map",{url:"/parkerMap",cache:!1,views:{"side-menu21":{templateUrl:"templates/map.html",controller:"MapCtrl"}}}).state("parker.priorBookings",{url:"/priorBookings",cache:!1,views:{"side-menu21":{templateUrl:"templates/priorBookings.html",controller:"PriorBookingsCtrl"}}}).state("parker.search",{url:"/parkerSearch",views:{"side-menu21":{templateUrl:"templates/parkingSearch.html",controller:"parkerSearchCtrl"}}}).state("parker.parkingSearchResults",{url:"/parkingSearchResults",views:{"side-menu21":{templateUrl:"templates/parkingSearchResults.html",controller:"parkingSearchResultsCtrl"}}}).state("parker.reservation",{url:"/reservation",views:{"side-menu21":{templateUrl:"templates/reservation.html",controller:"reservationCtrl"}}}).state("parker.spotOwnerInformation",{url:"/spotOwnerInformation",views:{"side-menu21":{templateUrl:"templates/ownersInformation.html",controller:"spotOwnerInformationCtrl"}}}).state("parker.upcomingSpaces",{url:"/upcomingSpaces",views:{"side-menu21":{templateUrl:"templates/upcomingSpaces.html",controller:"upcomingSpacesCtrl"}}}).state("owner",{url:"/owner",templateUrl:"templates/ownerMenu.html",controller:"ownerMenuCtrl"}).state("owner.home",{url:"/home",cache:!1,views:{"side-menu21":{templateUrl:"templates/ownerHome.html",controller:"ownerHomeCtrl"}}}).state("owner.addSpace",{url:"/addSpace",cache:!1,views:{"side-menu21":{templateUrl:"templates/ownerAddSpace.html",controller:"ownerAddSpaceCtrl"}}}).state("owner.addSpaceOptions",{url:"/addSpace",cache:!1,views:{"side-menu21":{templateUrl:"templates/ownerAddSpaceOptions.html",controller:"ownerAddSpaceOptionsCtrl"}}}).state("owner.spaceInfo",{url:"/spaceInfo",cache:!1,views:{"side-menu21":{templateUrl:"templates/ownerSpaceInfo.html",controller:"ownerSpaceInfoCtrl"}}}).state("owner.payment",{url:"/payment",views:{"side-menu21":{templateUrl:"templates/payment.html",controller:"ownerPayCtrl"}},resolve:{stripe:t.load}}).state("parker.pay",{url:"/pay",views:{"side-menu21":{templateUrl:"templates/parkerPay.html",controller:"parkerPayCtrl"}},resolve:{stripe:t.load}}).state("owner.profile",{url:"/profile",cache:!1,views:{"side-menu21":{templateUrl:"templates/ownerProfile.html",controller:"ownerPageProfileCtrl"}}}).state("parker.cancellationPolicy",{url:"/cancellationPolicy",views:{"side-menu21":{templateUrl:"templates/cancellationPolicy.html"}}}),r.otherwise("/login")}),angular.module("starter.services",[]).factory("StripeCharge",function(e,r,t){var o=this;return r.defaults.headers.common["X-Mashape-Key"]=NOODLIO_PAY_API_KEY,r.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded",r.defaults.headers.common.Accept="application/json",o.chargeUser=function(t,o){var a=e.defer(),l={source:t,amount:Math.floor(100*o.priceUSD),currency:"usd",description:"Your custom description here",stripe_account:STRIPE_ACCOUNT_ID,test:TEST_MODE};return r.post(NOODLIO_PAY_API_URL+"/charge/token",l).success(function(e){a.resolve(e)}).error(function(e){console.log(e),a.reject(e)}),a.promise},o.getStripeToken=function(r){var o=e.defer(),a={name:r.title,description:r.description,amount:Math.floor(100*r.priceUSD)},l=t.configure({name:r.title,token:function(e,r){}});return l.open(a).then(function(e){var r=e[0].id;void 0!=r&&null!=r&&""!=r?o.resolve(r):o.reject("ERROR_STRIPETOKEN_UNDEFINED")},function(e){void 0==e?o.reject("ERROR_CANCEL"):o.reject(e)}),o.promise},o});